CREATE TABLE PROJECT(
    PROJECT_CODE            VARCHAR(255),
    PROJECT_DESCRIPTION     VARCHAR(50) UNIQUE,
    PROJECT_START_DATE      DATE        NOT NULL,
    PROJECT_END_DATE        DATE
);

CREATE TABLE PROJECT_ALLOCATION(
    PROJECT_CODE            VARCHAR(255),
    EMPNO                   VARCHAR(10),
    EMP_PROJ_ALLOC_DATE     DATE,
    EMP_PROJ_RELEASE_DATE   DATE

);

CREATE TABLE EMPLOYEE(
    EMPNO           INT         PRIMARY KEY,
    EMP_NAME        VARCHAR(25) NOT NULL,
    EMP_JOIN_DATE   DATE        DEFAULT(SYSDATE),
    EMP_STATUS      CHAR(1)     CHECK(EMP_STATUS = 'C' OR EMP_STATUS = 'P' OR EMP_STATUS = 'R')
);

INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('101',	'Jhonny', 	'01-Jul-2005',	'C');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('116',	'Nayak'	,	'16-Aug-2005',	'C');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('202',	'Meera'	,	'30-Jan-2006',	'C');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('205',	'Ravi'	,	'11-Feb-2006',	'C');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('304',	'Hari'	,	'25-Nov-2006',	'P');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('307',	'Nancy'	,	'15-Jan-2007',	'P');
INSERT INTO EMPLOYEE(EMPNO, EMP_NAME, EMP_JOIN_DATE, EMP_STATUS)
VALUES ('403',	'Nick'	,	'21-Jan-2007',	'P');


INSERT INTO PROJECT(PROJECT_CODE, PROJECT_DESCRIPTION, PROJECT_START_DATE, PROJECT_END_DATE)
VALUES('P001','Environment Pollution',	'02-Aug-2005',	'11-Dec-2006' );
INSERT INTO PROJECT(PROJECT_CODE, PROJECT_DESCRIPTION, PROJECT_START_DATE, PROJECT_END_DATE)
VALUES('P002','Learning Curve',			'01-Feb-2006',	   NULL      );
INSERT INTO PROJECT(PROJECT_CODE, PROJECT_DESCRIPTION, PROJECT_START_DATE, PROJECT_END_DATE)
VALUES('P003','Effects of IT',			'03-Jan-2007',	   NULL           );



INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P001',	'101',	'01-Aug-2005',	'11-Dec-2006');

INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P001',	'116',	'16-Aug-2005',	'11-Dec-2006');
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P002',	'202',	'01-Feb-2006',	'14-Jan-2007');
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P002',	'307',	'15-Jan-2007',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P002',	'205',	'11-Feb-2006',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P003',	'403',	'21-Jan-2007',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P003',	'304',	'03-Jan-2007',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P003',	'101',	'03-Jan-2007',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P003',	'116',	'03-Jan-2007',	 NULL);
INSERT INTO PROJECT_ALLOCATION(PROJECT_CODE, EMPNO, EMP_PROJ_ALLOC_DATE, EMP_PROJ_RELEASE_DATE)
VALUES('P003',	'202',	'15-Jan-2007',	 NULL);


SELECT * FROM PROJECT;

SELECT EMP_NAME FROM EMPLOYEE;

SELECT EMP_NAME FROM EMPLOYEE WHERE EMP_STATUS = 'C';

SELECT * FROM EMPLOYEE;

SELECT * FROM EMPLOYEE WHERE EMP_JOIN_DATE >= '01-Aug-2006';

SELECT * FROM PROJECT WHERE PROJECT_START_DATE >= '01-Jan-2006';

SELECT * FROM PROJECT_ALLOCATION 
JOIN EMPLOYEE 
ON PROJECT_ALLOCATION.EMPNO = EMPLOYEE.EMPNO
WHERE PROJECT_ALLOCATION.PROJECT_CODE = 'P003' ;


SELECT * FROM PROJECT
WHERE PROJECT_END_DATE IS NULL;


SELECT * FROM EMPLOYEE
JOIN PROJECT_ALLOCATION
ON EMPLOYEE.EMPNO = PROJECT_ALLOCATION.EMPNO
WHERE PROJECT_ALLOCATION.EMP_PROJ_RELEASE_DATE IS NOT NULL AND PROJECT_ALLOCATION.PROJECT_CODE = 'P002';

SELECT PROJECT_END_DATE - PROJECT_START_DATE
FROM PROJECT
WHERE PROJECT_CODE = 'P001';


SELECT EMPLOYEE.EMP_NAME, TRUNC(NVL(PROJECT_ALLOCATION.EMP_PROJ_RELEASE_DATE,SYSDATE)) - PROJECT_ALLOCATION.EMP_PROJ_ALLOC_DATE
FROM PROJECT_ALLOCATION
JOIN EMPLOYEE
ON PROJECT_ALLOCATION.EMPNO = EMPLOYEE.EMPNO;

ALTER TABLE PROJECT
ADD PROJECT_MANAGER VARCHAR(255);

UPDATE PROJECT
SET PROJECT_MANAGER = '101'
WHERE PROJECT_CODE = 'P001';

UPDATE PROJECT
SET PROJECT_MANAGER = '202'
WHERE PROJECT_CODE = 'P002';

UPDATE PROJECT
SET PROJECT_MANAGER = '116'
WHERE PROJECT_CODE = 'P003';


INSERT INTO PROJECT(PROJECT_DESCRIPTION, PROJECT_START_DATE)
VALUES('Election Rage', '01-Mar-2007');


SELECT * FROM PROJECT;

DELETE FROM PROJECT
WHERE PROJECT_DESCRIPTION = 'Election Rage';








